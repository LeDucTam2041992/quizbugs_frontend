(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{aKMQ:function(t,e,n){"use strict";n.r(e),n.d(e,"ExaminationModule",(function(){return X}));var i=n("ofXK"),a=n("tyNb"),r=n("M9IT"),c=n("Dh3D"),o=n("+0xr"),s=n("fXoL"),l=n("94Cw"),b=n("kmnG"),m=n("qFsG"),u=n("3Pt+"),d=n("bTqV"),f=n("NFeN"),h=n("znSr");function p(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",20),s.Zb("click",(function(){return s.rc(t),s.dc().onSearchClear()})),s.Rb(1,"mat-icon"),s.Ac(2,"close"),s.Qb(),s.Qb()}}function g(t,e){1&t&&(s.Rb(0,"mat-header-cell",21),s.Ac(1," Id"),s.Qb())}function w(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.Ac(1),s.Qb()),2&t){const t=e.index;s.Ab(1),s.Cc(" ",t+1," ")}}function x(t,e){1&t&&(s.Rb(0,"mat-header-cell",21),s.Ac(1," Name"),s.Qb())}function A(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.Ac(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.Cc(" ",t.name," ")}}function C(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.Ac(1,"Click to test"),s.Qb())}function y(t,e){if(1&t){const t=s.Sb();s.Rb(0,"mat-cell"),s.Rb(1,"button",22),s.Zb("click",(function(){s.rc(t);const n=e.$implicit;return s.dc().goDetail(n.id)})),s.Rb(2,"mat-icon",23),s.Ac(3,"not_started"),s.Qb(),s.Qb(),s.Qb()}}function R(t,e){1&t&&(s.Rb(0,"mat-footer-cell",24),s.Ac(1," Loading data... "),s.Qb())}function Q(t,e){1&t&&(s.Rb(0,"mat-footer-cell",24),s.Ac(1," No data. "),s.Qb())}function M(t,e){1&t&&s.Mb(0,"mat-header-row")}function E(t,e){1&t&&s.Mb(0,"mat-row")}const O=function(t){return{hide:t}};function S(t,e){if(1&t&&s.Mb(0,"mat-footer-row",25),2&t){const t=s.dc();s.jc("ngClass",s.mc(1,O,null!=t.filteredListExams))}}function v(t,e){if(1&t&&s.Mb(0,"mat-footer-row",25),2&t){const t=s.dc();s.jc("ngClass",s.mc(1,O,!(null!=t.filteredListExams&&0==t.filteredListExams.data.length)))}}const j=function(){return["loading"]},z=function(){return["noData"]},D=function(){return[5,10,20]};let L=(()=>{class t{constructor(t,e){this.examService=t,this.router=e,this.displayedColumns=["id","name","option"]}ngOnInit(){this.getAll()}getAll(){this.examService.getAllExams().subscribe(t=>{let e=t.map(t=>({id:t.id,name:t.name,enabled:t.enabled,questionSet:t.questionSet}));this.filteredListExams=new o.o(e),this.filteredListExams.paginator=this.paginator,this.filteredListExams.sort=this.sort})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.filteredListExams.filter=this.searchKey.trim().toLowerCase()}goDetail(t){this.router.navigate(["examination/detail/"+t]).then(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(l.a),s.Lb(a.c))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-exam-list"]],viewQuery:function(t,e){var n;1&t&&(s.Ec(r.a,!0),s.Ec(c.a,!0)),2&t&&(s.oc(n=s.ac())&&(e.paginator=n.first),s.oc(n=s.ac())&&(e.sort=n.first))},decls:26,vars:12,consts:[[2,"text-align","center"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"example-container","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","option"],[4,"matHeaderCellDef"],["matColumnDef","loading"],["colspan","6",4,"matFooterCellDef"],["matColumnDef","noData"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],["mat-icon-button","","matTooltip","Click to start","color","primary",1,"iconbutton",3,"click"],["aria-label","Start"],["colspan","6"],[3,"ngClass"]],template:function(t,e){1&t&&(s.Rb(0,"h2",0),s.Ac(1,"List Exam "),s.Qb(),s.Rb(2,"div",1),s.Rb(3,"mat-form-field",2),s.Rb(4,"input",3),s.Zb("ngModelChange",(function(t){return e.searchKey=t}))("keyup",(function(){return e.applyFilter()})),s.Qb(),s.zc(5,p,3,0,"button",4),s.Qb(),s.Qb(),s.Rb(6,"div",5),s.Rb(7,"mat-table",6),s.Pb(8,7),s.zc(9,g,2,0,"mat-header-cell",8),s.zc(10,w,2,1,"mat-cell",9),s.Ob(),s.Pb(11,10),s.zc(12,x,2,0,"mat-header-cell",8),s.zc(13,A,2,1,"mat-cell",9),s.Ob(),s.Pb(14,11),s.zc(15,C,2,0,"mat-header-cell",12),s.zc(16,y,4,0,"mat-cell",9),s.Ob(),s.Pb(17,13),s.zc(18,R,2,0,"mat-footer-cell",14),s.Ob(),s.Pb(19,15),s.zc(20,Q,2,0,"mat-footer-cell",14),s.Ob(),s.zc(21,M,1,0,"mat-header-row",16),s.zc(22,E,1,0,"mat-row",17),s.zc(23,S,1,3,"mat-footer-row",18),s.zc(24,v,1,3,"mat-footer-row",18),s.Qb(),s.Mb(25,"mat-paginator",19),s.Qb()),2&t&&(s.Ab(4),s.jc("ngModel",e.searchKey),s.Ab(1),s.jc("ngIf",e.searchKey),s.Ab(2),s.jc("dataSource",e.filteredListExams),s.Ab(14),s.jc("matHeaderRowDef",e.displayedColumns),s.Ab(1),s.jc("matRowDefColumns",e.displayedColumns),s.Ab(1),s.jc("matFooterRowDef",s.lc(9,j)),s.Ab(1),s.jc("matFooterRowDef",s.lc(10,z)),s.Ab(1),s.jc("pageSizeOptions",s.lc(11,D))("pageSize",5))},directives:[b.c,m.a,u.b,u.l,u.o,i.l,o.n,c.a,o.c,o.i,o.b,o.e,o.k,o.m,o.g,r.a,d.b,b.g,f.a,o.h,c.b,o.a,o.d,o.j,o.l,o.f,i.j,h.a],styles:["table[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{max-height:500px;overflow:auto}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.hide[_ngcontent-%COMP%]{display:none}mat-footer-row[_ngcontent-%COMP%]   mat-footer-cell[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;font-style:italic}.search-div[_ngcontent-%COMP%]{margin:10px}"]}),t})(),P=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Fb({type:t,selectors:[["app-home"]],decls:1,vars:0,consts:[[2,"padding","12px"]],template:function(t,e){1&t&&s.Mb(0,"router-outlet",0)},directives:[a.h],styles:[""]}),t})();var k=n("JNBd"),I=n("Wp6s"),F=n("QibW"),_=n("bSwM");function $(t,e){if(1&t){const t=s.Sb();s.Rb(0,"section",7),s.Rb(1,"mat-radio-button",9),s.Zb("change",(function(){s.rc(t);const n=e.$implicit,i=s.dc(2),a=i.$implicit,r=i.index;return s.dc().selectAnswers(n,a.type,r)})),s.Ac(2),s.Qb(),s.Mb(3,"br"),s.Mb(4,"br"),s.Qb()}if(2&t){const t=e.$implicit,n=s.dc(2).$implicit;s.Ab(1),s.kc("name",n.id),s.Ab(1),s.Bc(t.answer)}}function q(t,e){if(1&t&&(s.Pb(0),s.Rb(1,"mat-card"),s.Rb(2,"mat-card-content",1),s.Rb(3,"h5"),s.Ac(4),s.Qb(),s.zc(5,$,5,2,"section",3),s.Qb(),s.Qb(),s.Ob()),2&t){const t=s.dc(),e=t.index,n=t.$implicit;s.Ab(4),s.Dc("Question ",e+1,": ",n.question,""),s.Ab(1),s.jc("ngForOf",n.answers)}}function Z(t,e){if(1&t){const t=s.Sb();s.Rb(0,"section",7),s.Rb(1,"mat-checkbox",10),s.Zb("change",(function(){s.rc(t);const n=e.$implicit,i=s.dc(2),a=i.$implicit,r=i.index;return s.dc().selectAnswers(n,a.type,r)})),s.Ac(2),s.Qb(),s.Mb(3,"br"),s.Qb()}if(2&t){const t=e.$implicit,n=s.dc(2).$implicit;s.Ab(1),s.kc("name",n.id),s.Ab(1),s.Bc(t.answer)}}function K(t,e){if(1&t&&(s.Pb(0),s.Rb(1,"mat-card"),s.Rb(2,"mat-card-content",1),s.Rb(3,"h5"),s.Ac(4),s.Qb(),s.Rb(5,"mat-radio-group"),s.zc(6,Z,4,2,"section",3),s.Qb(),s.Qb(),s.Qb(),s.Ob()),2&t){const t=s.dc(),e=t.index,n=t.$implicit;s.Ab(4),s.Dc("Question ",e+1,": ",n.question,""),s.Ab(2),s.jc("ngForOf",n.answers)}}function N(t,e){if(1&t&&(s.Rb(0,"div",7),s.zc(1,q,6,3,"ng-container",8),s.zc(2,K,7,3,"ng-container",8),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.jc("ngIf",0==t.type||2==t.type),s.Ab(1),s.jc("ngIf",1==t.type)}}const J=[{path:"",component:P,children:[{path:"list",component:L},{path:"detail/:id",component:(()=>{class t{constructor(t,e,n,i,a){this.examService=t,this.route=e,this.router=n,this.fb=i,this.userExamsService=a,this.currentExam={id:1,name:"Java Exam",enabled:!0,questionSet:[]},this.answersArrMulti=[],this.answersArr=[],this.userExamObj={},this.listUserAnswer=[]}ngOnInit(){const t=Number.parseInt(this.router.snapshot.paramMap.get("id"));this.examService.getExamById(t).subscribe(t=>{this.currentExam=t,this.answersArr=new Array(this.currentExam.questionSet.length)}),this.inId>0&&this.examService.getExamById(this.inId).subscribe(t=>this.currentExam=t),this.userAnswersExam=this.fb.group([])}submit(){this.answersArr=this.answersArr.filter(t=>null!=t);for(let t in this.answersArrMulti)this.answersArr.push(this.answersArrMulti[t]);this.answersArr.forEach(t=>{this.listUserAnswer.push({answer:{id:t.id},inputAnswer:null})}),this.userExamObj.userAnswers=this.listUserAnswer,this.userExamObj.exam={id:this.currentExam.id},this.userExamsService.createUserExam(this.userExamObj).subscribe(t=>{this.route.navigate(["history/detail/"+t.id])}),console.log(this.userExamObj)}selectAnswers(t,e,n){if(console.log("answer id "+t.id),0!=e&&2!=e||(this.answersArr[n]=t),1==e){let e=this.answersArrMulti.indexOf(t);e>-1?this.answersArrMulti.splice(e,1):this.answersArrMulti.push(t)}}cancel(){this.route.navigate(["examination/list"])}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(l.a),s.Lb(a.c),s.Lb(a.a),s.Lb(u.c),s.Lb(k.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-detail-exam"]],inputs:{inId:"inId"},decls:11,vars:3,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"box-card-custom"],[1,"header"],["class","example-section",4,"ngFor","ngForOf"],[1,"button-sub"],["mat-raised-button","","color","primary","type","submit",1,"example-margin"],["mat-raised-button","","color","warn",1,"example-margin",3,"click"],[1,"example-section"],[4,"ngIf"],["color","primary",3,"name","change"],["color","primary",1,"example-margin",3,"name","change"]],template:function(t,e){1&t&&(s.Rb(0,"form",0),s.Zb("ngSubmit",(function(){return e.submit()})),s.Rb(1,"mat-card"),s.Rb(2,"mat-card-content",1),s.Rb(3,"h4",2),s.Ac(4),s.Qb(),s.zc(5,N,3,2,"div",3),s.Qb(),s.Rb(6,"div",4),s.Rb(7,"button",5),s.Ac(8,"Submit"),s.Qb(),s.Rb(9,"button",6),s.Zb("click",(function(){return e.cancel()})),s.Ac(10,"Cancel"),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.jc("formGroup",e.userAnswersExam),s.Ab(4),s.Cc("Exam ",e.currentExam.name,""),s.Ab(1),s.jc("ngForOf",e.currentExam.questionSet))},directives:[u.r,u.m,u.g,I.a,I.d,i.k,d.b,i.l,F.a,F.b,_.a],styles:[".button-sub[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{text-align:center}.button-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})()},{path:"**",redirectTo:"list"}]}];let B=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[a.g.forChild(J)],a.g]}),t})();var U=n("wZkO"),G=n("PCNd"),H=n("fSyj"),T=(n("8LU1"),n("0EQZ"),n("FKr1"));n("u47x");let W=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[T.h,T.p],T.h]}),t})(),X=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[B,U.c,i.c,G.a,H.a,u.h,W,u.p]]}),t})()}}]);