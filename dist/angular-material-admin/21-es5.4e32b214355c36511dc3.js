!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{aKMQ:function(e,a,i){"use strict";i.r(a),i.d(a,"ExaminationModule",(function(){return rt}));var r=i("ofXK"),c=i("tyNb"),o=i("M9IT"),s=i("Dh3D"),l=i("+0xr"),u=i("fXoL"),b=i("94Cw"),m=i("kmnG"),f=i("qFsG"),d=i("3Pt+"),h=i("bTqV"),p=i("NFeN"),g=i("znSr");function w(t,e){if(1&t){var n=u.Sb();u.Rb(0,"button",20),u.Zb("click",(function(){return u.rc(n),u.dc().onSearchClear()})),u.Rb(1,"mat-icon"),u.Ac(2,"close"),u.Qb(),u.Qb()}}function x(t,e){1&t&&(u.Rb(0,"mat-header-cell",21),u.Ac(1," Id"),u.Qb())}function v(t,e){if(1&t&&(u.Rb(0,"mat-cell"),u.Ac(1),u.Qb()),2&t){var n=e.index;u.Ab(1),u.Cc(" ",n+1," ")}}function A(t,e){1&t&&(u.Rb(0,"mat-header-cell",21),u.Ac(1," Name"),u.Qb())}function y(t,e){if(1&t&&(u.Rb(0,"mat-cell"),u.Ac(1),u.Qb()),2&t){var n=e.$implicit;u.Ab(1),u.Cc(" ",n.name," ")}}function C(t,e){1&t&&(u.Rb(0,"mat-header-cell"),u.Ac(1,"Click to test"),u.Qb())}function R(t,e){if(1&t){var n=u.Sb();u.Rb(0,"mat-cell"),u.Rb(1,"button",22),u.Zb("click",(function(){u.rc(n);var t=e.$implicit;return u.dc().goDetail(t.id)})),u.Rb(2,"mat-icon",23),u.Ac(3,"not_started"),u.Qb(),u.Qb(),u.Qb()}}function Q(t,e){1&t&&(u.Rb(0,"mat-footer-cell",24),u.Ac(1," Loading data... "),u.Qb())}function E(t,e){1&t&&(u.Rb(0,"mat-footer-cell",24),u.Ac(1," No data. "),u.Qb())}function M(t,e){1&t&&u.Mb(0,"mat-header-row")}function O(t,e){1&t&&u.Mb(0,"mat-row")}var S=function(t){return{hide:t}};function k(t,e){if(1&t&&u.Mb(0,"mat-footer-row",25),2&t){var n=u.dc();u.jc("ngClass",u.mc(1,S,null!=n.filteredListExams))}}function j(t,e){if(1&t&&u.Mb(0,"mat-footer-row",25),2&t){var n=u.dc();u.jc("ngClass",u.mc(1,S,!(null!=n.filteredListExams&&0==n.filteredListExams.data.length)))}}var z,D,P=function(){return["loading"]},L=function(){return["noData"]},I=function(){return[5,10,20]},F=((D=function(){function e(n,a){t(this,e),this.examService=n,this.router=a,this.displayedColumns=["id","name","option"]}return n(e,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"getAll",value:function(){var t=this;this.examService.getAllExams().subscribe((function(e){var n=e.map((function(t){return{id:t.id,name:t.name,enabled:t.enabled,questionSet:t.questionSet}}));t.filteredListExams=new l.o(n),t.filteredListExams.paginator=t.paginator,t.filteredListExams.sort=t.sort}))}},{key:"onSearchClear",value:function(){this.searchKey="",this.applyFilter()}},{key:"applyFilter",value:function(){this.filteredListExams.filter=this.searchKey.trim().toLowerCase()}},{key:"goDetail",value:function(t){this.router.navigate(["examination/detail/"+t]).then((function(t){return t}))}}]),e}()).\u0275fac=function(t){return new(t||D)(u.Lb(b.a),u.Lb(c.c))},D.\u0275cmp=u.Fb({type:D,selectors:[["app-exam-list"]],viewQuery:function(t,e){var n;1&t&&(u.Ec(o.a,!0),u.Ec(s.a,!0)),2&t&&(u.oc(n=u.ac())&&(e.paginator=n.first),u.oc(n=u.ac())&&(e.sort=n.first))},decls:26,vars:12,consts:[[2,"text-align","center"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"example-container","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","option"],[4,"matHeaderCellDef"],["matColumnDef","loading"],["colspan","6",4,"matFooterCellDef"],["matColumnDef","noData"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],["mat-icon-button","","matTooltip","Click to start","color","primary",1,"iconbutton",3,"click"],["aria-label","Start"],["colspan","6"],[3,"ngClass"]],template:function(t,e){1&t&&(u.Rb(0,"h2",0),u.Ac(1,"List Exam "),u.Qb(),u.Rb(2,"div",1),u.Rb(3,"mat-form-field",2),u.Rb(4,"input",3),u.Zb("ngModelChange",(function(t){return e.searchKey=t}))("keyup",(function(){return e.applyFilter()})),u.Qb(),u.zc(5,w,3,0,"button",4),u.Qb(),u.Qb(),u.Rb(6,"div",5),u.Rb(7,"mat-table",6),u.Pb(8,7),u.zc(9,x,2,0,"mat-header-cell",8),u.zc(10,v,2,1,"mat-cell",9),u.Ob(),u.Pb(11,10),u.zc(12,A,2,0,"mat-header-cell",8),u.zc(13,y,2,1,"mat-cell",9),u.Ob(),u.Pb(14,11),u.zc(15,C,2,0,"mat-header-cell",12),u.zc(16,R,4,0,"mat-cell",9),u.Ob(),u.Pb(17,13),u.zc(18,Q,2,0,"mat-footer-cell",14),u.Ob(),u.Pb(19,15),u.zc(20,E,2,0,"mat-footer-cell",14),u.Ob(),u.zc(21,M,1,0,"mat-header-row",16),u.zc(22,O,1,0,"mat-row",17),u.zc(23,k,1,3,"mat-footer-row",18),u.zc(24,j,1,3,"mat-footer-row",18),u.Qb(),u.Mb(25,"mat-paginator",19),u.Qb()),2&t&&(u.Ab(4),u.jc("ngModel",e.searchKey),u.Ab(1),u.jc("ngIf",e.searchKey),u.Ab(2),u.jc("dataSource",e.filteredListExams),u.Ab(14),u.jc("matHeaderRowDef",e.displayedColumns),u.Ab(1),u.jc("matRowDefColumns",e.displayedColumns),u.Ab(1),u.jc("matFooterRowDef",u.lc(9,P)),u.Ab(1),u.jc("matFooterRowDef",u.lc(10,L)),u.Ab(1),u.jc("pageSizeOptions",u.lc(11,I))("pageSize",5))},directives:[m.c,f.a,d.b,d.l,d.o,r.l,l.n,s.a,l.c,l.i,l.b,l.e,l.k,l.m,l.g,o.a,h.b,m.g,p.a,l.h,s.b,l.a,l.d,l.j,l.l,l.f,r.j,g.a],styles:["table[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{max-height:500px;overflow:auto}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.hide[_ngcontent-%COMP%]{display:none}mat-footer-row[_ngcontent-%COMP%]   mat-footer-cell[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;font-style:italic}.search-div[_ngcontent-%COMP%]{margin:10px}"]}),D),_=((z=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||z)},z.\u0275cmp=u.Fb({type:z,selectors:[["app-home"]],decls:1,vars:0,consts:[[2,"padding","12px"]],template:function(t,e){1&t&&u.Mb(0,"router-outlet",0)},directives:[c.h],styles:[""]}),z),$=i("JNBd"),q=i("Wp6s"),Z=i("QibW"),K=i("bSwM");function N(t,e){if(1&t){var n=u.Sb();u.Rb(0,"section",7),u.Rb(1,"mat-radio-button",9),u.Zb("change",(function(){u.rc(n);var t=e.$implicit,a=u.dc(2),i=a.$implicit,r=a.index;return u.dc().selectAnswers(t,i.type,r)})),u.Ac(2),u.Qb(),u.Mb(3,"br"),u.Mb(4,"br"),u.Qb()}if(2&t){var a=e.$implicit,i=u.dc(2).$implicit;u.Ab(1),u.kc("name",i.id),u.Ab(1),u.Bc(a.answer)}}function J(t,e){if(1&t&&(u.Pb(0),u.Rb(1,"mat-card"),u.Rb(2,"mat-card-content",1),u.Rb(3,"h5"),u.Ac(4),u.Qb(),u.zc(5,N,5,2,"section",3),u.Qb(),u.Qb(),u.Ob()),2&t){var n=u.dc(),a=n.index,i=n.$implicit;u.Ab(4),u.Dc("Question ",a+1,": ",i.question,""),u.Ab(1),u.jc("ngForOf",i.answers)}}function B(t,e){if(1&t){var n=u.Sb();u.Rb(0,"section",7),u.Rb(1,"mat-checkbox",10),u.Zb("change",(function(){u.rc(n);var t=e.$implicit,a=u.dc(2),i=a.$implicit,r=a.index;return u.dc().selectAnswers(t,i.type,r)})),u.Ac(2),u.Qb(),u.Mb(3,"br"),u.Qb()}if(2&t){var a=e.$implicit,i=u.dc(2).$implicit;u.Ab(1),u.kc("name",i.id),u.Ab(1),u.Bc(a.answer)}}function T(t,e){if(1&t&&(u.Pb(0),u.Rb(1,"mat-card"),u.Rb(2,"mat-card-content",1),u.Rb(3,"h5"),u.Ac(4),u.Qb(),u.Rb(5,"mat-radio-group"),u.zc(6,B,4,2,"section",3),u.Qb(),u.Qb(),u.Qb(),u.Ob()),2&t){var n=u.dc(),a=n.index,i=n.$implicit;u.Ab(4),u.Dc("Question ",a+1,": ",i.question,""),u.Ab(2),u.jc("ngForOf",i.answers)}}function U(t,e){if(1&t&&(u.Rb(0,"div",7),u.zc(1,J,6,3,"ng-container",8),u.zc(2,T,7,3,"ng-container",8),u.Qb()),2&t){var n=e.$implicit;u.Ab(1),u.jc("ngIf",0==n.type||2==n.type),u.Ab(1),u.jc("ngIf",1==n.type)}}var G,H,W=[{path:"",component:_,children:[{path:"list",component:F},{path:"detail/:id",component:(G=function(){function e(n,a,i,r,c){t(this,e),this.examService=n,this.route=a,this.router=i,this.fb=r,this.userExamsService=c,this.currentExam={id:1,name:"Java Exam",enabled:!0,questionSet:[]},this.answersArrMulti=[],this.answersArr=[],this.userExamObj={},this.listUserAnswer=[]}return n(e,[{key:"ngOnInit",value:function(){var t=this,e=Number.parseInt(this.router.snapshot.paramMap.get("id"));this.examService.getExamById(e).subscribe((function(e){t.currentExam=e,t.answersArr=new Array(t.currentExam.questionSet.length)})),this.inId>0&&this.examService.getExamById(this.inId).subscribe((function(e){return t.currentExam=e})),this.userAnswersExam=this.fb.group([])}},{key:"submit",value:function(){var t=this;for(var e in this.answersArr=this.answersArr.filter((function(t){return null!=t})),this.answersArrMulti)this.answersArr.push(this.answersArrMulti[e]);this.answersArr.forEach((function(e){t.listUserAnswer.push({answer:{id:e.id},inputAnswer:null})})),this.userExamObj.userAnswers=this.listUserAnswer,this.userExamObj.exam={id:this.currentExam.id},this.userExamsService.createUserExam(this.userExamObj).subscribe((function(e){t.route.navigate(["history/detail/"+e.id])})),console.log(this.userExamObj)}},{key:"selectAnswers",value:function(t,e,n){if(console.log("answer id "+t.id),0!=e&&2!=e||(this.answersArr[n]=t),1==e){var a=this.answersArrMulti.indexOf(t);a>-1?this.answersArrMulti.splice(a,1):this.answersArrMulti.push(t)}}},{key:"cancel",value:function(){this.route.navigate(["examination/list"])}}]),e}(),G.\u0275fac=function(t){return new(t||G)(u.Lb(b.a),u.Lb(c.c),u.Lb(c.a),u.Lb(d.c),u.Lb($.a))},G.\u0275cmp=u.Fb({type:G,selectors:[["app-detail-exam"]],inputs:{inId:"inId"},decls:11,vars:3,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"box-card-custom"],[1,"header"],["class","example-section",4,"ngFor","ngForOf"],[1,"button-sub"],["mat-raised-button","","color","primary","type","submit",1,"example-margin"],["mat-raised-button","","color","warn",1,"example-margin",3,"click"],[1,"example-section"],[4,"ngIf"],["color","primary",3,"name","change"],["color","primary",1,"example-margin",3,"name","change"]],template:function(t,e){1&t&&(u.Rb(0,"form",0),u.Zb("ngSubmit",(function(){return e.submit()})),u.Rb(1,"mat-card"),u.Rb(2,"mat-card-content",1),u.Rb(3,"h4",2),u.Ac(4),u.Qb(),u.zc(5,U,3,2,"div",3),u.Qb(),u.Rb(6,"div",4),u.Rb(7,"button",5),u.Ac(8,"Submit"),u.Qb(),u.Rb(9,"button",6),u.Zb("click",(function(){return e.cancel()})),u.Ac(10,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&t&&(u.jc("formGroup",e.userAnswersExam),u.Ab(4),u.Cc("Exam ",e.currentExam.name,""),u.Ab(1),u.jc("ngForOf",e.currentExam.questionSet))},directives:[d.r,d.m,d.g,q.a,q.d,r.k,h.b,r.l,Z.a,Z.b,K.a],styles:[".button-sub[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{text-align:center}.button-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),G)},{path:"**",redirectTo:"list"}]}],X=((H=function e(){t(this,e)}).\u0275mod=u.Jb({type:H}),H.\u0275inj=u.Ib({factory:function(t){return new(t||H)},imports:[[c.g.forChild(W)],c.g]}),H),V=i("wZkO"),Y=i("PCNd"),tt=i("fSyj"),et=(i("8LU1"),i("0EQZ"),i("FKr1"));i("u47x");var nt,at,it=((at=function e(){t(this,e)}).\u0275mod=u.Jb({type:at}),at.\u0275inj=u.Ib({factory:function(t){return new(t||at)},imports:[[et.h,et.p],et.h]}),at),rt=((nt=function e(){t(this,e)}).\u0275mod=u.Jb({type:nt}),nt.\u0275inj=u.Ib({factory:function(t){return new(t||nt)},imports:[[X,V.c,r.c,Y.a,tt.a,d.h,it,d.p]]}),nt)}}])}();