(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+KwT":function(e,t,i){"use strict";i.r(t),i.d(t,"QuizModule",(function(){return Z}));var s=i("ofXK"),n=i("wZkO"),r=i("tyNb"),o=i("PCNd"),a=i("fXoL"),c=i("DZHk"),u=i("yj5z");function l(e,t){if(1&e&&a.Mb(0,"mat-tab",4),2&e){const e=t.$implicit;a.jc("routerLink",e.path)("label",e.label)}}class b{constructor(e,t){this.path=e,this.label=t}}let h=(()=>{class e{constructor(){this.navLinks=[]}ngOnInit(){this.navLinks=[new b("list","List Quiz"),new b("add","Create Quiz")]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Fb({type:e,selectors:[["app-home-quiz"]],decls:4,vars:1,consts:[[1,"bg-white","mat-elevation-z10",2,"min-height","80vh"],["routerTabs",""],[3,"routerLink","label",4,"ngFor","ngForOf"],[2,"padding","12px"],[3,"routerLink","label"]],template:function(e,t){1&e&&(a.Rb(0,"section",0),a.Rb(1,"mat-tab-group",1),a.zc(2,l,1,2,"mat-tab",2),a.Qb(),a.Mb(3,"router-outlet",3),a.Qb()),2&e&&(a.Ab(2),a.jc("ngForOf",t.navLinks))},directives:[n.b,c.a,s.k,r.h,n.a,u.a,r.d],styles:[""]}),e})();var d=i("3Pt+"),p=i("0IaG"),m=i("bTqV");let g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Fb({type:e,selectors:[["app-mes-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"text-align","center"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(a.Rb(0,"h2",0),a.Ac(1,"WARNING"),a.Qb(),a.Rb(2,"mat-dialog-content",1),a.Rb(3,"h3",2),a.Ac(4,"The Question have got in the quiz!"),a.Qb(),a.Qb(),a.Rb(5,"mat-dialog-actions",3),a.Rb(6,"button",4),a.Ac(7,"Cancel"),a.Qb(),a.Rb(8,"button",5),a.Ac(9,"Add any way"),a.Qb(),a.Qb()),2&e&&(a.Ab(8),a.jc("mat-dialog-close",!0))},directives:[p.f,p.d,p.b,m.b,p.c],styles:[""]}),e})();var f=i("fFZa"),Q=i("es7i"),y=i("94Cw"),C=i("kmnG"),z=i("d3UM"),x=i("FKr1"),A=i("qFsG"),q=i("NFeN"),R=i("M9IT"),O=i("dVeJ"),v=i("kMxk");function L(e,t){if(1&e&&(a.Rb(0,"mat-option",25),a.Ac(1),a.Qb()),2&e){const e=t.$implicit;a.jc("value",e.category),a.Ab(1),a.Bc(e.category)}}function M(e,t){if(1&e){const e=a.Sb();a.Pb(0),a.Rb(1,"app-detail-question",26),a.Zb("deleteId",(function(t){return a.rc(e),a.dc().delete(t)}))("addId",(function(t){return a.rc(e),a.dc().add(t)})),a.Qb(),a.Ob()}if(2&e){const e=t.$implicit,i=a.dc();a.Ab(1),a.jc("inId",e.id)("index",i.searchListQuestion.indexOf(e))("isCreateQuiz",!0)}}function S(e,t){1&e&&(a.Rb(0,"mat-error"),a.Ac(1," Name is "),a.Rb(2,"strong"),a.Ac(3,"required"),a.Qb(),a.Qb())}function T(e,t){1&e&&(a.Rb(0,"mat-error"),a.Ac(1," Time is "),a.Rb(2,"strong"),a.Ac(3,"required"),a.Qb(),a.Qb())}function I(e,t){if(1&e){const e=a.Sb();a.Pb(0),a.Rb(1,"app-detail-question",27),a.Zb("addId",(function(t){return a.rc(e),a.dc().add(t)}))("deleteId",(function(t){return a.rc(e),a.dc().delete(t)}))("removeId",(function(t){return a.rc(e),a.dc().remove(t)})),a.Qb(),a.Ob()}if(2&e){const e=t.$implicit,i=t.index;a.Ab(1),a.jc("inId",e.id)("index",i)("isQuestionQuiz",!0)}}const w=function(){return[5,10,20]},F=[{path:"",component:h,children:[{path:"create",component:(()=>{class e{constructor(e,t,i,s,n){this.questionService=e,this.router=t,this.categoryService=i,this.examService=s,this.dialog=n,this.filteredListQuestions=[],this.listQuestions=[],this.searchListQuestion=[],this.quizQuestion=[],this.numberOfCheckbox=0,this.numberOfSelect=0,this.numberOfTrueFalse=0,this.numberOfInput=0,this.message="",this.pageSize=5,this.exam={id:0,name:"",enabled:!0,questionSet:[]},this.quizFormControl=new d.d("",[d.q.required]),this.timeFormControl=new d.d("",[d.q.required])}ngOnInit(){this.getAll(),this.categoryService.getAllCategories().subscribe(e=>{const t=e.map(e=>({id:e.id,category:e.category}));this.listCategories=t})}getAll(){this.questionService.getAllQuestion().subscribe(e=>{const t=e.map(e=>({id:e.id,question:e.question,type:e.type,enabled:e.enabled,categories:e.categories,answers:e.answers}));this.listQuestions=t,this.searchListQuestion=this.listQuestions,this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)})}add(e){this.listQuestions.forEach(t=>{t.id==e&&(-1==this.quizQuestion.indexOf(t)?(this.quizQuestion.push(t),0==t.type&&this.numberOfSelect++,1==t.type&&this.numberOfCheckbox++,2==t.type&&this.numberOfTrueFalse++,3==t.type&&this.numberOfInput++):this.dialog.open(g).afterClosed().subscribe(e=>{1==e&&(this.quizQuestion.push(t),0==t.type&&this.numberOfSelect++,1==t.type&&this.numberOfCheckbox++,2==t.type&&this.numberOfTrueFalse++,3==t.type&&this.numberOfInput++)}))})}remove(e){this.quizQuestion.forEach(t=>{t.id==e&&(this.quizQuestion.splice(this.quizQuestion.indexOf(t),1),0==t.type&&this.numberOfSelect--,1==t.type&&this.numberOfCheckbox--,2==t.type&&this.numberOfTrueFalse--,3==t.type&&this.numberOfInput--)})}SearchTextBox(){this.searchListQuestion=this.listQuestions.filter(e=>{if(e.question.toLowerCase().match(this.questionName.toLowerCase())){if(this.selectedCategory&&this.selectedType){for(let t in e.categories)if(e.categories[t].category===this.selectedCategory&&e.type==this.selectedType)return!0;return!1}if(this.selectedCategory&&!this.selectedType){for(let t in e.categories)if(e.categories[t].category===this.selectedCategory)return!0;return!1}return!(!this.selectedCategory&&this.selectedType)||e.type==this.selectedType}return!1}),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)}clear(){this.questionName="",this.searchCategory()}searchCategory(){this.selectedCategory?(this.questionName="",this.searchListQuestion=this.listQuestions.filter(e=>{if(this.selectedType){for(let t in e.categories)if(e.categories[t].category===this.selectedCategory&&e.type==this.selectedType)return!0;return!1}for(let t in e.categories)if(e.categories[t].category===this.selectedCategory)return!0;return!1}),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)):this.selectedType?this.searchTypeQuestion():(this.searchListQuestion=this.listQuestions,this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize))}searchTypeQuestion(){this.selectedType?(this.searchListQuestion=this.listQuestions.filter(e=>{if(this.selectedCategory){for(let t in e.categories)if(e.categories[t].category===this.selectedCategory&&e.type==this.selectedType)return!0;return!1}return e.type==this.selectedType}),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)):this.selectedCategory?this.searchCategory():(this.searchListQuestion=this.listQuestions,this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize))}onPageChange(e){this.filteredListQuestions=this.searchListQuestion.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize),this.pageSize=e.pageSize}createQuiz(){this.quizFormControl.valid&&(this.exam.name=this.quizFormControl.value,this.exam.questionSet=this.quizQuestion,this.exam.questionSet.forEach(e=>{e.answers=[]}),this.examService.createExam(this.exam).subscribe(()=>{this.message="Create Quiz Success!",this.quizQuestion=[]},e=>{this.message="UnSuccess! Please try again!"}))}delete(e){}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(f.a),a.Lb(r.c),a.Lb(Q.a),a.Lb(y.a),a.Lb(p.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-create-quiz"]],decls:68,vars:21,consts:[[1,"list-question"],["appearance","fill",2,"margin-right","20px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["value","0"],["value","1"],["value","2"],[1,"search-div"],["matInput","","placeholder","Search",2,"margin","0px 0px 10px 10px","max-width","87%",3,"ngModel","ngModelChange","input"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"quiz"],[2,"text-align","center"],[2,"margin-left","50px"],[3,"message"],[1,"example-form"],[1,"example-full-width"],["type","text","matInput","","placeholder","Java pro test",3,"formControl"],[4,"ngIf"],["type","text","matInput","","placeholder","Time do quiz",3,"formControl"],[2,"text-align","center","margin-bottom","30px"],[1,"number-qs"],["mat-raised-button","","color","primary",2,"margin-left","100px","margin-top","50px",3,"disabled","click"],[3,"value"],[3,"inId","index","isCreateQuiz","deleteId","addId"],[3,"inId","index","isQuestionQuiz","addId","deleteId","removeId"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"mat-form-field",1),a.Rb(2,"mat-label"),a.Ac(3,"Category"),a.Qb(),a.Rb(4,"mat-select",2),a.Zb("ngModelChange",(function(e){return t.selectedCategory=e}))("ngModelChange",(function(){return t.searchCategory()})),a.Rb(5,"mat-option"),a.Ac(6,"None"),a.Qb(),a.zc(7,L,2,2,"mat-option",3),a.Qb(),a.Qb(),a.Rb(8,"mat-form-field",4),a.Rb(9,"mat-label"),a.Ac(10,"Type"),a.Qb(),a.Rb(11,"mat-select",2),a.Zb("ngModelChange",(function(e){return t.selectedType=e}))("ngModelChange",(function(){return t.searchTypeQuestion()})),a.Rb(12,"mat-option"),a.Ac(13,"None"),a.Qb(),a.Rb(14,"mat-option",5),a.Ac(15,"Radio Button"),a.Qb(),a.Rb(16,"mat-option",6),a.Ac(17,"Checkbox"),a.Qb(),a.Rb(18,"mat-option",7),a.Ac(19,"True-False"),a.Qb(),a.Qb(),a.Qb(),a.Rb(20,"div",8),a.Rb(21,"input",9),a.Zb("ngModelChange",(function(e){return t.questionName=e}))("input",(function(){return t.SearchTextBox()})),a.Qb(),a.Rb(22,"button",10),a.Zb("click",(function(){return t.clear()})),a.Rb(23,"mat-icon"),a.Ac(24,"close"),a.Qb(),a.Qb(),a.Qb(),a.zc(25,M,2,3,"ng-container",11),a.Rb(26,"mat-paginator",12),a.Zb("page",(function(e){return t.onPageChange(e)})),a.Qb(),a.Qb(),a.Rb(27,"div",13),a.Rb(28,"h1",14),a.Ac(29,"Create Quiz"),a.Qb(),a.Rb(30,"section",15),a.Mb(31,"app-message",16),a.Qb(),a.Rb(32,"form",17),a.Rb(33,"mat-form-field",18),a.Rb(34,"mat-label"),a.Ac(35,"Name : "),a.Qb(),a.Mb(36,"input",19),a.zc(37,S,4,0,"mat-error",20),a.Qb(),a.Rb(38,"mat-form-field",18),a.Rb(39,"mat-label"),a.Ac(40,"Time : "),a.Qb(),a.Mb(41,"input",21),a.zc(42,T,4,0,"mat-error",20),a.Qb(),a.Qb(),a.Rb(43,"h3",22),a.Ac(44,"List Question Of Quiz"),a.Qb(),a.Rb(45,"label",23),a.Ac(46),a.Qb(),a.Mb(47,"br"),a.Mb(48,"br"),a.Rb(49,"label",23),a.Ac(50),a.Qb(),a.Mb(51,"br"),a.Mb(52,"br"),a.Rb(53,"label",23),a.Ac(54),a.Qb(),a.Mb(55,"br"),a.Mb(56,"br"),a.Rb(57,"label",23),a.Ac(58),a.Qb(),a.Mb(59,"br"),a.Mb(60,"br"),a.Rb(61,"label",23),a.Ac(62),a.Qb(),a.Mb(63,"br"),a.Mb(64,"br"),a.zc(65,I,2,3,"ng-container",11),a.Rb(66,"button",24),a.Zb("click",(function(){return t.createQuiz()})),a.Ac(67,"Submit"),a.Qb(),a.Qb()),2&e&&(a.Ab(4),a.jc("ngModel",t.selectedCategory),a.Ab(3),a.jc("ngForOf",t.listCategories),a.Ab(4),a.jc("ngModel",t.selectedType),a.Ab(10),a.jc("ngModel",t.questionName),a.Ab(4),a.jc("ngForOf",t.filteredListQuestions),a.Ab(1),a.jc("length",t.searchListQuestion.length)("pageSize",5)("pageSizeOptions",a.lc(20,w)),a.Ab(5),a.jc("message",t.message),a.Ab(5),a.jc("formControl",t.quizFormControl),a.Ab(1),a.jc("ngIf",t.quizFormControl.hasError("required")),a.Ab(4),a.jc("formControl",t.timeFormControl),a.Ab(1),a.jc("ngIf",t.timeFormControl.hasError("required")),a.Ab(4),a.Cc("Number Question Of Quiz : ",t.quizQuestion.length,""),a.Ab(4),a.Cc("Number Question Type Select : ",t.numberOfSelect,""),a.Ab(4),a.Cc("Number Question Type Checkbox : ",t.numberOfCheckbox,""),a.Ab(4),a.Cc("Number Question Type True False : ",t.numberOfTrueFalse,""),a.Ab(4),a.Cc("Number Question Type Input : ",t.numberOfInput,""),a.Ab(3),a.jc("ngForOf",t.quizQuestion),a.Ab(1),a.jc("disabled",t.quizFormControl.invalid))},directives:[C.c,C.f,z.a,d.l,d.o,x.k,s.k,A.a,d.b,m.b,C.g,q.a,R.a,O.a,d.r,d.m,d.n,d.e,s.l,v.a,C.b],styles:[".list-question[_ngcontent-%COMP%]{float:left}.list-question[_ngcontent-%COMP%], .quiz[_ngcontent-%COMP%]{width:50%;overflow:auto;max-height:600px}.example-form[_ngcontent-%COMP%]{margin-top:50px;margin-left:50px;margin-bottom:50px;max-width:450px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.qs[_ngcontent-%COMP%]{margin:40px}.number-qs[_ngcontent-%COMP%]{margin-top:50px;margin-left:50px;width:100%}"]}),e})()},{path:"**",redirectTo:"create"}]}];let k=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[r.g.forChild(F)],r.g]}),e})();var j=i("zkoq"),N=i("vMzf"),P=i("XhcP");let Z=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[k,s.c,n.c,r.g,o.a,j.a,q.b,N.QuestionModule,A.b,m.c,P.d,R.b,d.p,d.h,z.b,p.e]]}),e})()}}]);