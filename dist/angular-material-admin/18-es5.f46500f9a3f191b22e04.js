!function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+KwT":function(e,n,r){"use strict";r.r(n),r.d(n,"QuizModule",(function(){return K}));var o=r("ofXK"),s=r("wZkO"),a=r("tyNb"),c=r("PCNd"),u=r("fXoL"),l=r("DZHk"),b=r("yj5z");function d(e,t){if(1&e&&u.Mb(0,"mat-tab",4),2&e){var i=t.$implicit;u.jc("routerLink",i.path)("label",i.label)}}var f,h,p=function e(t,n){i(this,e),this.path=t,this.label=n},m=((f=function(){function e(){i(this,e),this.navLinks=[]}return t(e,[{key:"ngOnInit",value:function(){this.navLinks=[new p("list","List Quiz"),new p("add","Create Quiz")]}}]),e}()).\u0275fac=function(e){return new(e||f)},f.\u0275cmp=u.Fb({type:f,selectors:[["app-home-quiz"]],decls:4,vars:1,consts:[[1,"bg-white","mat-elevation-z10",2,"min-height","80vh"],["routerTabs",""],[3,"routerLink","label",4,"ngFor","ngForOf"],[2,"padding","12px"],[3,"routerLink","label"]],template:function(e,t){1&e&&(u.Rb(0,"section",0),u.Rb(1,"mat-tab-group",1),u.zc(2,d,1,2,"mat-tab",2),u.Qb(),u.Mb(3,"router-outlet",3),u.Qb()),2&e&&(u.Ab(2),u.jc("ngForOf",t.navLinks))},directives:[s.b,l.a,o.k,a.h,s.a,b.a,a.d],styles:[""]}),f),g=r("3Pt+"),Q=r("0IaG"),y=r("bTqV"),v=((h=function(){function e(){i(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||h)},h.\u0275cmp=u.Fb({type:h,selectors:[["app-mes-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"text-align","center"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(u.Rb(0,"h2",0),u.Ac(1,"WARNING"),u.Qb(),u.Rb(2,"mat-dialog-content",1),u.Rb(3,"h3",2),u.Ac(4,"The Question have got in the quiz!"),u.Qb(),u.Qb(),u.Rb(5,"mat-dialog-actions",3),u.Rb(6,"button",4),u.Ac(7,"Cancel"),u.Qb(),u.Rb(8,"button",5),u.Ac(9,"Add any way"),u.Qb(),u.Qb()),2&e&&(u.Ab(8),u.jc("mat-dialog-close",!0))},directives:[Q.f,Q.d,Q.b,y.b,Q.c],styles:[""]}),h),C=r("fFZa"),z=r("es7i"),x=r("94Cw"),A=r("kmnG"),q=r("d3UM"),R=r("FKr1"),O=r("qFsG"),k=r("NFeN"),L=r("M9IT"),M=r("dVeJ"),S=r("kMxk");function T(e,t){if(1&e&&(u.Rb(0,"mat-option",25),u.Ac(1),u.Qb()),2&e){var i=t.$implicit;u.jc("value",i.category),u.Ab(1),u.Bc(i.category)}}function w(e,t){if(1&e){var i=u.Sb();u.Pb(0),u.Rb(1,"app-detail-question",26),u.Zb("deleteId",(function(e){return u.rc(i),u.dc().delete(e)}))("addId",(function(e){return u.rc(i),u.dc().add(e)})),u.Qb(),u.Ob()}if(2&e){var n=t.$implicit,r=u.dc();u.Ab(1),u.jc("inId",n.id)("index",r.searchListQuestion.indexOf(n))("isCreateQuiz",!0)}}function I(e,t){1&e&&(u.Rb(0,"mat-error"),u.Ac(1," Name is "),u.Rb(2,"strong"),u.Ac(3,"required"),u.Qb(),u.Qb())}function F(e,t){1&e&&(u.Rb(0,"mat-error"),u.Ac(1," Time is "),u.Rb(2,"strong"),u.Ac(3,"required"),u.Qb(),u.Qb())}function j(e,t){if(1&e){var i=u.Sb();u.Pb(0),u.Rb(1,"app-detail-question",27),u.Zb("addId",(function(e){return u.rc(i),u.dc().add(e)}))("deleteId",(function(e){return u.rc(i),u.dc().delete(e)}))("removeId",(function(e){return u.rc(i),u.dc().remove(e)})),u.Qb(),u.Ob()}if(2&e){var n=t.$implicit,r=t.index;u.Ab(1),u.jc("inId",n.id)("index",r)("isQuestionQuiz",!0)}}var N,P,Z,E=function(){return[5,10,20]},_=[{path:"",component:m,children:[{path:"create",component:(N=function(){function e(t,n,r,o,s){i(this,e),this.questionService=t,this.router=n,this.categoryService=r,this.examService=o,this.dialog=s,this.filteredListQuestions=[],this.listQuestions=[],this.searchListQuestion=[],this.quizQuestion=[],this.numberOfCheckbox=0,this.numberOfSelect=0,this.numberOfTrueFalse=0,this.numberOfInput=0,this.message="",this.pageSize=5,this.exam={id:0,name:"",enabled:!0,questionSet:[]},this.quizFormControl=new g.d("",[g.q.required]),this.timeFormControl=new g.d("",[g.q.required])}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.getAll(),this.categoryService.getAllCategories().subscribe((function(t){var i=t.map((function(e){return{id:e.id,category:e.category}}));e.listCategories=i}))}},{key:"getAll",value:function(){var e=this;this.questionService.getAllQuestion().subscribe((function(t){var i=t.map((function(e){return{id:e.id,question:e.question,type:e.type,enabled:e.enabled,categories:e.categories,answers:e.answers}}));e.listQuestions=i,e.searchListQuestion=e.listQuestions,e.filteredListQuestions=e.searchListQuestion.slice(0,e.pageSize)}))}},{key:"add",value:function(e){var t=this;this.listQuestions.forEach((function(i){i.id==e&&(-1==t.quizQuestion.indexOf(i)?(t.quizQuestion.push(i),0==i.type&&t.numberOfSelect++,1==i.type&&t.numberOfCheckbox++,2==i.type&&t.numberOfTrueFalse++,3==i.type&&t.numberOfInput++):t.dialog.open(v).afterClosed().subscribe((function(e){1==e&&(t.quizQuestion.push(i),0==i.type&&t.numberOfSelect++,1==i.type&&t.numberOfCheckbox++,2==i.type&&t.numberOfTrueFalse++,3==i.type&&t.numberOfInput++)})))}))}},{key:"remove",value:function(e){var t=this;this.quizQuestion.forEach((function(i){i.id==e&&(t.quizQuestion.splice(t.quizQuestion.indexOf(i),1),0==i.type&&t.numberOfSelect--,1==i.type&&t.numberOfCheckbox--,2==i.type&&t.numberOfTrueFalse--,3==i.type&&t.numberOfInput--)}))}},{key:"SearchTextBox",value:function(){var e=this;this.searchListQuestion=this.listQuestions.filter((function(t){if(t.question.toLowerCase().match(e.questionName.toLowerCase())){if(e.selectedCategory&&e.selectedType){for(var i in t.categories)if(t.categories[i].category===e.selectedCategory&&t.type==e.selectedType)return!0;return!1}if(e.selectedCategory&&!e.selectedType){for(var n in t.categories)if(t.categories[n].category===e.selectedCategory)return!0;return!1}return!(!e.selectedCategory&&e.selectedType)||t.type==e.selectedType}return!1})),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)}},{key:"clear",value:function(){this.questionName="",this.searchCategory()}},{key:"searchCategory",value:function(){var e=this;this.selectedCategory?(this.questionName="",this.searchListQuestion=this.listQuestions.filter((function(t){if(e.selectedType){for(var i in t.categories)if(t.categories[i].category===e.selectedCategory&&t.type==e.selectedType)return!0;return!1}for(var n in t.categories)if(t.categories[n].category===e.selectedCategory)return!0;return!1})),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)):this.selectedType?this.searchTypeQuestion():(this.searchListQuestion=this.listQuestions,this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize))}},{key:"searchTypeQuestion",value:function(){var e=this;this.selectedType?(this.searchListQuestion=this.listQuestions.filter((function(t){if(e.selectedCategory){for(var i in t.categories)if(t.categories[i].category===e.selectedCategory&&t.type==e.selectedType)return!0;return!1}return t.type==e.selectedType})),this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize)):this.selectedCategory?this.searchCategory():(this.searchListQuestion=this.listQuestions,this.filteredListQuestions=this.searchListQuestion.slice(0,this.pageSize))}},{key:"onPageChange",value:function(e){this.filteredListQuestions=this.searchListQuestion.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize),this.pageSize=e.pageSize}},{key:"createQuiz",value:function(){var e=this;this.quizFormControl.valid&&(this.exam.name=this.quizFormControl.value,this.exam.questionSet=this.quizQuestion,this.exam.questionSet.forEach((function(e){e.answers=[]})),this.examService.createExam(this.exam).subscribe((function(){e.message="Create Quiz Success!",e.quizQuestion=[]}),(function(t){e.message="UnSuccess! Please try again!"})))}},{key:"delete",value:function(e){}}]),e}(),N.\u0275fac=function(e){return new(e||N)(u.Lb(C.a),u.Lb(a.c),u.Lb(z.a),u.Lb(x.a),u.Lb(Q.a))},N.\u0275cmp=u.Fb({type:N,selectors:[["app-create-quiz"]],decls:68,vars:21,consts:[[1,"list-question"],["appearance","fill",2,"margin-right","20px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["value","0"],["value","1"],["value","2"],[1,"search-div"],["matInput","","placeholder","Search",2,"margin","0px 0px 10px 10px","max-width","87%",3,"ngModel","ngModelChange","input"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"quiz"],[2,"text-align","center"],[2,"margin-left","50px"],[3,"message"],[1,"example-form"],[1,"example-full-width"],["type","text","matInput","","placeholder","Java pro test",3,"formControl"],[4,"ngIf"],["type","text","matInput","","placeholder","Time do quiz",3,"formControl"],[2,"text-align","center","margin-bottom","30px"],[1,"number-qs"],["mat-raised-button","","color","primary",2,"margin-left","100px","margin-top","50px",3,"disabled","click"],[3,"value"],[3,"inId","index","isCreateQuiz","deleteId","addId"],[3,"inId","index","isQuestionQuiz","addId","deleteId","removeId"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"mat-form-field",1),u.Rb(2,"mat-label"),u.Ac(3,"Category"),u.Qb(),u.Rb(4,"mat-select",2),u.Zb("ngModelChange",(function(e){return t.selectedCategory=e}))("ngModelChange",(function(){return t.searchCategory()})),u.Rb(5,"mat-option"),u.Ac(6,"None"),u.Qb(),u.zc(7,T,2,2,"mat-option",3),u.Qb(),u.Qb(),u.Rb(8,"mat-form-field",4),u.Rb(9,"mat-label"),u.Ac(10,"Type"),u.Qb(),u.Rb(11,"mat-select",2),u.Zb("ngModelChange",(function(e){return t.selectedType=e}))("ngModelChange",(function(){return t.searchTypeQuestion()})),u.Rb(12,"mat-option"),u.Ac(13,"None"),u.Qb(),u.Rb(14,"mat-option",5),u.Ac(15,"Radio Button"),u.Qb(),u.Rb(16,"mat-option",6),u.Ac(17,"Checkbox"),u.Qb(),u.Rb(18,"mat-option",7),u.Ac(19,"True-False"),u.Qb(),u.Qb(),u.Qb(),u.Rb(20,"div",8),u.Rb(21,"input",9),u.Zb("ngModelChange",(function(e){return t.questionName=e}))("input",(function(){return t.SearchTextBox()})),u.Qb(),u.Rb(22,"button",10),u.Zb("click",(function(){return t.clear()})),u.Rb(23,"mat-icon"),u.Ac(24,"close"),u.Qb(),u.Qb(),u.Qb(),u.zc(25,w,2,3,"ng-container",11),u.Rb(26,"mat-paginator",12),u.Zb("page",(function(e){return t.onPageChange(e)})),u.Qb(),u.Qb(),u.Rb(27,"div",13),u.Rb(28,"h1",14),u.Ac(29,"Create Quiz"),u.Qb(),u.Rb(30,"section",15),u.Mb(31,"app-message",16),u.Qb(),u.Rb(32,"form",17),u.Rb(33,"mat-form-field",18),u.Rb(34,"mat-label"),u.Ac(35,"Name : "),u.Qb(),u.Mb(36,"input",19),u.zc(37,I,4,0,"mat-error",20),u.Qb(),u.Rb(38,"mat-form-field",18),u.Rb(39,"mat-label"),u.Ac(40,"Time : "),u.Qb(),u.Mb(41,"input",21),u.zc(42,F,4,0,"mat-error",20),u.Qb(),u.Qb(),u.Rb(43,"h3",22),u.Ac(44,"List Question Of Quiz"),u.Qb(),u.Rb(45,"label",23),u.Ac(46),u.Qb(),u.Mb(47,"br"),u.Mb(48,"br"),u.Rb(49,"label",23),u.Ac(50),u.Qb(),u.Mb(51,"br"),u.Mb(52,"br"),u.Rb(53,"label",23),u.Ac(54),u.Qb(),u.Mb(55,"br"),u.Mb(56,"br"),u.Rb(57,"label",23),u.Ac(58),u.Qb(),u.Mb(59,"br"),u.Mb(60,"br"),u.Rb(61,"label",23),u.Ac(62),u.Qb(),u.Mb(63,"br"),u.Mb(64,"br"),u.zc(65,j,2,3,"ng-container",11),u.Rb(66,"button",24),u.Zb("click",(function(){return t.createQuiz()})),u.Ac(67,"Submit"),u.Qb(),u.Qb()),2&e&&(u.Ab(4),u.jc("ngModel",t.selectedCategory),u.Ab(3),u.jc("ngForOf",t.listCategories),u.Ab(4),u.jc("ngModel",t.selectedType),u.Ab(10),u.jc("ngModel",t.questionName),u.Ab(4),u.jc("ngForOf",t.filteredListQuestions),u.Ab(1),u.jc("length",t.searchListQuestion.length)("pageSize",5)("pageSizeOptions",u.lc(20,E)),u.Ab(5),u.jc("message",t.message),u.Ab(5),u.jc("formControl",t.quizFormControl),u.Ab(1),u.jc("ngIf",t.quizFormControl.hasError("required")),u.Ab(4),u.jc("formControl",t.timeFormControl),u.Ab(1),u.jc("ngIf",t.timeFormControl.hasError("required")),u.Ab(4),u.Cc("Number Question Of Quiz : ",t.quizQuestion.length,""),u.Ab(4),u.Cc("Number Question Type Select : ",t.numberOfSelect,""),u.Ab(4),u.Cc("Number Question Type Checkbox : ",t.numberOfCheckbox,""),u.Ab(4),u.Cc("Number Question Type True False : ",t.numberOfTrueFalse,""),u.Ab(4),u.Cc("Number Question Type Input : ",t.numberOfInput,""),u.Ab(3),u.jc("ngForOf",t.quizQuestion),u.Ab(1),u.jc("disabled",t.quizFormControl.invalid))},directives:[A.c,A.f,q.a,g.l,g.o,R.k,o.k,O.a,g.b,y.b,A.g,k.a,L.a,M.a,g.r,g.m,g.n,g.e,o.l,S.a,A.b],styles:[".list-question[_ngcontent-%COMP%]{float:left}.list-question[_ngcontent-%COMP%], .quiz[_ngcontent-%COMP%]{width:50%;overflow:auto;max-height:600px}.example-form[_ngcontent-%COMP%]{margin-top:50px;margin-left:50px;margin-bottom:50px;max-width:450px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.qs[_ngcontent-%COMP%]{margin:40px}.number-qs[_ngcontent-%COMP%]{margin-top:50px;margin-left:50px;width:100%}"]}),N)},{path:"**",redirectTo:"create"}]}],J=((P=function e(){i(this,e)}).\u0275mod=u.Jb({type:P}),P.\u0275inj=u.Ib({factory:function(e){return new(e||P)},imports:[[a.g.forChild(_)],a.g]}),P),B=r("zkoq"),G=r("vMzf"),$=r("XhcP"),K=((Z=function e(){i(this,e)}).\u0275mod=u.Jb({type:Z}),Z.\u0275inj=u.Ib({factory:function(e){return new(e||Z)},imports:[[J,o.c,s.c,a.g,c.a,B.a,k.b,G.QuestionModule,O.b,y.c,$.d,L.b,g.p,g.h,q.b,Q.e]]}),Z)}}])}();