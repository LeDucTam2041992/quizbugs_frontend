!function(){function t(t,n){var c;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(c=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){c=t[Symbol.iterator]()},n:function(){var t=c.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==c.return||c.return()}finally{if(l)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"9Ggk":function(e,c,r){"use strict";r.r(c),r.d(c,"ExamHistoryModule",(function(){return ft}));var i=r("wZkO"),o=r("PCNd"),l=r("tyNb"),s=r("M9IT"),u=r("Dh3D"),b=r("+0xr"),m=r("fXoL"),f=r("JNBd"),d=r("kmnG"),h=r("qFsG"),p=r("3Pt+"),g=r("ofXK"),y=r("bTqV"),A=r("NFeN"),v=r("Qu3c"),w=r("znSr");function k(t,e){if(1&t){var n=m.Sb();m.Rb(0,"button",22),m.Zb("click",(function(){return m.rc(n),m.dc().onSearchClear()})),m.Rb(1,"mat-icon"),m.Ac(2,"close"),m.Qb(),m.Qb()}}function C(t,e){1&t&&(m.Rb(0,"mat-header-cell",23),m.Ac(1," Id"),m.Qb())}function R(t,e){if(1&t&&(m.Rb(0,"mat-cell"),m.Ac(1),m.Qb()),2&t){var n=e.index;m.Ab(1),m.Cc(" ",n+1," ")}}function x(t,e){1&t&&(m.Rb(0,"mat-header-cell",23),m.Ac(1," Test Name"),m.Qb())}function Q(t,e){if(1&t&&(m.Rb(0,"mat-cell"),m.Ac(1),m.Qb()),2&t){var n=e.$implicit;m.Ab(1),m.Cc(" ",n.exam.name," ")}}function I(t,e){1&t&&(m.Rb(0,"mat-header-cell"),m.Ac(1," Mark "),m.Qb())}function O(t,e){if(1&t&&(m.Rb(0,"mat-cell"),m.Ac(1),m.Qb()),2&t){var n=e.$implicit;m.Ab(1),m.Cc(" ",n.mark?n.mark:"null"," ")}}function z(t,e){1&t&&(m.Rb(0,"mat-header-cell"),m.Ac(1,"Date of Test "),m.Qb())}function j(t,e){if(1&t&&(m.Rb(0,"mat-cell"),m.Ac(1),m.ec(2,"date"),m.Qb()),2&t){var n=e.$implicit;m.Ab(1),m.Cc("",m.gc(2,1,n.date,"HH:mm dd-MM-yyyy ")," ")}}function D(t,e){1&t&&(m.Rb(0,"mat-header-cell"),m.Ac(1,"Action "),m.Qb())}function M(t,e){if(1&t){var n=m.Sb();m.Rb(0,"mat-cell"),m.Rb(1,"button",24),m.Zb("click",(function(){m.rc(n);var t=e.$implicit;return m.dc().clickDetail(t.id)})),m.Ac(2,"Detail"),m.Qb(),m.Qb()}}function S(t,e){1&t&&(m.Rb(0,"mat-footer-cell",25),m.Ac(1," Loading data... "),m.Qb())}function P(t,e){1&t&&(m.Rb(0,"mat-footer-cell",25),m.Ac(1," No data. "),m.Qb())}function E(t,e){1&t&&m.Mb(0,"mat-header-row")}function F(t,e){1&t&&m.Mb(0,"mat-row")}var L=function(t){return{hide:t}};function _(t,e){if(1&t&&m.Mb(0,"mat-footer-row",26),2&t){var n=m.dc();m.jc("ngClass",m.mc(1,L,null!=n.listHistory))}}function H(t,e){if(1&t&&m.Mb(0,"mat-footer-row",26),2&t){var n=m.dc();m.jc("ngClass",m.mc(1,L,!(null!=n.listHistory&&0==n.listHistory.data.length)))}}var T,$=function(){return["loading"]},N=function(){return["noData"]},q=function(){return[5,10,20]},K=((T=function(){function t(e,c){n(this,t),this.userExamService=e,this.router=c,this.displayedColumns=["id","test-name","score","date of test","action"]}return a(t,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"onSearchClear",value:function(){this.searchKey="",this.applyFilter()}},{key:"applyFilter",value:function(){this.listHistory.filter=this.searchKey.trim().toLowerCase()}},{key:"getAll",value:function(){var t=this;this.userExamService.getAllExamOfUser().subscribe((function(e){var n=e.map((function(t){return{id:t.id,user:t.user,exam:t.exam,date:new Date(t.date),mark:t.mark,userAnswers:t.userAnswers}}));t.listHistory=new b.o(n),t.listHistory.paginator=t.paginator,t.listHistory.sort=t.sort}))}},{key:"clickDetail",value:function(t){this.router.navigate(["history/detail/"+t]).then((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||T)(m.Lb(f.a),m.Lb(l.c))},T.\u0275cmp=m.Fb({type:T,selectors:[["app-history-list"]],viewQuery:function(t,e){var n;1&t&&(m.Ec(s.a,!0),m.Ec(u.a,!0)),2&t&&(m.oc(n=m.ac())&&(e.paginator=n.first),m.oc(n=m.ac())&&(e.sort=n.first))},decls:32,vars:12,consts:[[2,"text-align","center"],[1,"search-div"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"example-container","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","test-name"],["matColumnDef","score"],[4,"matHeaderCellDef"],["matColumnDef","date of test"],["matColumnDef","action"],["matColumnDef","loading"],["colspan","6",4,"matFooterCellDef"],["matColumnDef","noData"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],["matTooltip","Click to Details","mat-stroked-button","",3,"click"],["colspan","6"],[3,"ngClass"]],template:function(t,e){1&t&&(m.Rb(0,"h2",0),m.Ac(1,"List history "),m.Qb(),m.Rb(2,"div",1),m.Rb(3,"mat-form-field",2),m.Rb(4,"input",3),m.Zb("ngModelChange",(function(t){return e.searchKey=t}))("keyup",(function(){return e.applyFilter()})),m.Qb(),m.zc(5,k,3,0,"button",4),m.Qb(),m.Qb(),m.Rb(6,"div",5),m.Rb(7,"mat-table",6),m.Pb(8,7),m.zc(9,C,2,0,"mat-header-cell",8),m.zc(10,R,2,1,"mat-cell",9),m.Ob(),m.Pb(11,10),m.zc(12,x,2,0,"mat-header-cell",8),m.zc(13,Q,2,1,"mat-cell",9),m.Ob(),m.Pb(14,11),m.zc(15,I,2,0,"mat-header-cell",12),m.zc(16,O,2,1,"mat-cell",9),m.Ob(),m.Pb(17,13),m.zc(18,z,2,0,"mat-header-cell",12),m.zc(19,j,3,4,"mat-cell",9),m.Ob(),m.Pb(20,14),m.zc(21,D,2,0,"mat-header-cell",12),m.zc(22,M,3,0,"mat-cell",9),m.Ob(),m.Pb(23,15),m.zc(24,S,2,0,"mat-footer-cell",16),m.Ob(),m.Pb(25,17),m.zc(26,P,2,0,"mat-footer-cell",16),m.Ob(),m.zc(27,E,1,0,"mat-header-row",18),m.zc(28,F,1,0,"mat-row",19),m.zc(29,_,1,3,"mat-footer-row",20),m.zc(30,H,1,3,"mat-footer-row",20),m.Qb(),m.Mb(31,"mat-paginator",21),m.Qb()),2&t&&(m.Ab(4),m.jc("ngModel",e.searchKey),m.Ab(1),m.jc("ngIf",e.searchKey),m.Ab(2),m.jc("dataSource",e.listHistory),m.Ab(20),m.jc("matHeaderRowDef",e.displayedColumns),m.Ab(1),m.jc("matRowDefColumns",e.displayedColumns),m.Ab(1),m.jc("matFooterRowDef",m.lc(9,$)),m.Ab(1),m.jc("matFooterRowDef",m.lc(10,N)),m.Ab(1),m.jc("pageSizeOptions",m.lc(11,q))("pageSize",5))},directives:[d.c,h.a,p.b,p.l,p.o,g.l,b.n,u.a,b.c,b.i,b.b,b.e,b.k,b.m,b.g,s.a,y.b,d.g,A.a,b.h,u.b,b.a,v.a,b.d,b.j,b.l,b.f,g.j,w.a],pipes:[g.e],styles:["table[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{max-height:500px;overflow:auto}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.hide[_ngcontent-%COMP%]{display:none}mat-footer-row[_ngcontent-%COMP%]   mat-footer-cell[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;font-style:italic}.search-div[_ngcontent-%COMP%]{margin:10px}"]}),T),J=r("94Cw"),Z=r("Wp6s"),B=r("QibW"),G=r("bSwM");function U(t,e){if(1&t&&(m.Rb(0,"h5"),m.Ac(1),m.Qb()),2&t){var n=m.dc();m.Ab(1),m.Cc("Mark: ",n.userExam.mark,"")}}function W(t,e){1&t&&(m.Rb(0,"mat-icon",13),m.Ac(1," check_circle "),m.Qb())}function X(t,e){1&t&&(m.Rb(0,"mat-icon",14),m.Ac(1," check_circle "),m.Qb())}function V(t,e){if(1&t&&(m.Rb(0,"section"),m.Rb(1,"mat-radio-button",10),m.Ac(2),m.zc(3,W,2,0,"mat-icon",11),m.zc(4,X,2,0,"mat-icon",12),m.Qb(),m.Qb()),2&t){var n=e.$implicit,c=m.dc(2).$implicit,a=m.dc();m.Db("example-section",!a.checkInclude(n.id)&&1==n.status),m.Ab(1),m.kc("name",c.id),m.jc("checked",a.checkInclude(n.id)),m.Ab(1),m.Cc(" ",n.answer," "),m.Ab(1),m.jc("ngIf",a.checkInclude(n.id)&&1==n.status),m.Ab(1),m.jc("ngIf",!a.checkInclude(n.id)&&1==n.status)}}function Y(t,e){if(1&t&&(m.Pb(0),m.Rb(1,"mat-card"),m.Rb(2,"mat-card-content",1),m.Rb(3,"h5"),m.Ac(4),m.Qb(),m.zc(5,V,5,7,"section",9),m.Qb(),m.Qb(),m.Ob()),2&t){var n=m.dc(),c=n.index,a=n.$implicit;m.Ab(4),m.Dc("Question ",c+1,": ",a.question,""),m.Ab(1),m.jc("ngForOf",a.answers)}}function tt(t,e){1&t&&(m.Rb(0,"mat-icon",13),m.Ac(1," check_circle "),m.Qb())}function et(t,e){1&t&&(m.Rb(0,"mat-icon",14),m.Ac(1," check_circle "),m.Qb())}function nt(t,e){if(1&t&&(m.Rb(0,"section",8),m.Rb(1,"mat-checkbox",15),m.Ac(2),m.zc(3,tt,2,0,"mat-icon",11),m.zc(4,et,2,0,"mat-icon",12),m.Qb(),m.Qb()),2&t){var n=e.$implicit,c=m.dc(2).$implicit,a=m.dc();m.Ab(1),m.kc("name",c.id),m.jc("checked",a.checkInclude(n.id)),m.Ab(1),m.Cc(" ",n.answer," "),m.Ab(1),m.jc("ngIf",a.checkInclude(n.id)&&1==n.status),m.Ab(1),m.jc("ngIf",!a.checkInclude(n.id)&&1==n.status)}}function ct(t,e){if(1&t&&(m.Pb(0),m.Rb(1,"mat-card"),m.Rb(2,"mat-card-content",1),m.Rb(3,"h5"),m.Ac(4),m.Qb(),m.Rb(5,"mat-radio-group"),m.zc(6,nt,5,5,"section",4),m.Qb(),m.Qb(),m.Qb(),m.Ob()),2&t){var n=m.dc(),c=n.index,a=n.$implicit;m.Ab(4),m.Dc("Question ",c+1,": ",a.question,""),m.Ab(2),m.jc("ngForOf",a.answers)}}function at(t,e){if(1&t&&(m.Rb(0,"div",8),m.zc(1,Y,6,3,"ng-container",3),m.zc(2,ct,7,3,"ng-container",3),m.Qb()),2&t){var n=e.$implicit;m.Ab(1),m.jc("ngIf",0==n.type||2==n.type),m.Ab(1),m.jc("ngIf",1==n.type)}}var rt,it,ot,lt,st=function(){return["/history/list"]},ut=((rt=function(){function e(t,c,a,r,i){n(this,e),this.examService=t,this.route=c,this.router=a,this.fb=r,this.userExamsService=i,this.userAnswers=[],this.userAnswerIdArr=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this,n=Number.parseInt(this.router.snapshot.paramMap.get("id"));this.userExamsService.getUserExamById(n).subscribe((function(n){e.userExam=n,e.currentExam=n.exam,e.userAnswers=n.userAnswers,console.log(e.userAnswers);var c,a=t(e.userAnswers);try{for(a.s();!(c=a.n()).done;){var r=c.value;e.userAnswerIdArr.push(r.answer.id)}}catch(l){a.e(l)}finally{a.f()}var i,o=t(e.currentExam.questionSet);try{for(o.s();!(i=o.n()).done;)i.value}catch(l){o.e(l)}finally{o.f()}console.log(e.userAnswerIdArr)}))}},{key:"checkInclude",value:function(t){return this.userAnswerIdArr.includes(t)}},{key:"reTest",value:function(t){this.route.navigate(["examination/detail/"+t]).then((function(t){return t}))}}]),e}()).\u0275fac=function(t){return new(t||rt)(m.Lb(J.a),m.Lb(l.c),m.Lb(l.a),m.Lb(p.c),m.Lb(f.a))},rt.\u0275cmp=m.Fb({type:rt,selectors:[["app-history-detail"]],decls:12,vars:5,consts:[[1,"example-form"],[1,"box-card-custom"],[1,"header"],[4,"ngIf"],["class","example-section",4,"ngFor","ngForOf"],[1,"button-sub"],["mat-raised-button","","color","basic",1,"example-margin",3,"routerLink"],["mat-raised-button","","color","warn",1,"example-margin",3,"click"],[1,"example-section"],[3,"example-section",4,"ngFor","ngForOf"],["color","primary",3,"checked","name"],["class","sidenav-icon","style","color: #43a047",4,"ngIf"],["class","sidenav-icon","style","color: #ffaa00",4,"ngIf"],[1,"sidenav-icon",2,"color","#43a047"],[1,"sidenav-icon",2,"color","#ffaa00"],["color","primary",1,"example-margin",3,"checked","name"]],template:function(t,e){1&t&&(m.Rb(0,"form",0),m.Rb(1,"mat-card"),m.Rb(2,"mat-card-content",1),m.Rb(3,"h4",2),m.Ac(4),m.zc(5,U,2,1,"h5",3),m.Qb(),m.zc(6,at,3,2,"div",4),m.Qb(),m.Rb(7,"div",5),m.Rb(8,"button",6),m.Ac(9,"Back "),m.Qb(),m.Rb(10,"button",7),m.Zb("click",(function(){return e.reTest(e.currentExam.id)})),m.Ac(11,"Test again "),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&t&&(m.Ab(4),m.Cc("Exam Title: ",e.currentExam.name," "),m.Ab(1),m.jc("ngIf",null!=e.userExam.mark),m.Ab(1),m.jc("ngForOf",e.currentExam.questionSet),m.Ab(2),m.jc("routerLink",m.lc(4,st)))},directives:[p.r,p.m,p.n,Z.a,Z.d,g.l,g.k,y.b,l.d,B.a,A.a,B.b,G.a],styles:[".button-sub[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{text-align:center}.button-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),rt),bt=[{path:"",component:(it=function(){function t(){n(this,t),this.navLinks=[]}return a(t,[{key:"ngOnInit",value:function(){this.navLinks=[]}}]),t}(),it.\u0275fac=function(t){return new(t||it)},it.\u0275cmp=m.Fb({type:it,selectors:[["app-home"]],decls:1,vars:0,consts:[[2,"padding","12px"]],template:function(t,e){1&t&&m.Mb(0,"router-outlet",0)},directives:[l.h],styles:[""]}),it),children:[{path:"list",component:K},{path:"detail/:id",component:ut},{path:"**",redirectTo:"list"}]}],mt=((lt=function t(){n(this,t)}).\u0275mod=m.Jb({type:lt}),lt.\u0275inj=m.Ib({factory:function(t){return new(t||lt)},imports:[[l.g.forChild(bt)],l.g]}),lt),ft=((ot=function t(){n(this,t)}).\u0275mod=m.Jb({type:ot}),ot.\u0275inj=m.Ib({factory:function(t){return new(t||ot)},imports:[[mt,i.c,o.a,A.b,d.e,p.h,b.p,s.b,u.c,h.b,y.c,v.b,Z.g,B.c,G.b,p.p]]}),ot)}}])}();